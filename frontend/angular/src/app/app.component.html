<main class="container">
  <nav class="navbar navbar-light">
    <a class="navbar-brand"><img src="assets/logo.png" alt="CasperLabs" /></a>
    <span
      class="badge rounded-pill bg-success"
      e2e-id="chain_name"
      [hidden]="!chain_name"
      >{{ chain_name }}</span
    >
    <span
      class="badge rounded-pill bg-success"
      e2e-id="node_address"
      [hidden]="!node_address"
      >{{ node_address }}</span
    >
    <form class="form-inline">
      <div class="input-group">
        <label
          class="input-group-text"
          for="selectActionElt"
          for="selectNetworkElt"
          >RPC</label
        >
        <select
          id="selectNetworkElt"
          class="form-select form-control form-control-sm"
          (change)="selectNetwork()"
          #selectNetworkElt
          e2e-id="selectNetworkElt"
        >
          <option></option>
          <optgroup label="default">
            <option
              [value]="network.name"
              [selected]="network.node_address === node_address"
              *ngFor="let network of networks; index as i"
            >
              {{ network.name }} ({{ network.node_address }})
            </option>
          </optgroup>
          <optgroup label="fetched" *ngIf="peers">
            <option
              [value]="changePort(peer)"
              [selected]="changePort(peer) === node_address"
              *ngFor="let peer of peers; index as i"
            >
              {{ changePort(peer) }} ({{ chain_name }})
            </option>
          </optgroup>
        </select>
      </div>
    </form>
  </nav>
  <div class="row">
    <div class="col-sm-12">
      <div
        class="alert alert-success d-flex justify-content-between align-items-center"
        *ngIf="state_root_hash"
      >
        <span e2e-id="state_root_hash"
          >state root hash is {{ state_root_hash }}</span
        >
        <button class="btn me-0" (click)="get_state_root_hash(true)">
          Refresh
        </button>
      </div>
      <div class="alert alert-warning" *ngIf="account_hash">
        <span e2e-id="account_hash">account hash is {{ account_hash }}</span>
      </div>
      <div class="alert alert-warning" *ngIf="main_purse">
        <span e2e-id="main_purse">main purse is {{ main_purse }}</span>
      </div>
    </div>
  </div>
  <form class="row align-items-start" (submit)="(false)">
    <div class="col-sm-4">
      <div class="input-group">
        <label class="input-group-text" for="selectActionElt">Action</label>
        <select
          id="selectActionElt"
          class="form-select form-control form-control-sm"
          (change)="selectAction($event)"
          #selectActionElt
          e2e-id="selectActionElt"
        >
          <option></option>
          <optgroup label="rpc">
            <option
              [value]="sdk_method"
              [selected]="action === sdk_method"
              *ngFor="let sdk_method of sdk_rpc_methods; index as i"
            >
              {{ sdk_method }}
            </option>
          </optgroup>
          <optgroup label="deploy utils">
            <option
              [value]="sdk_method"
              [selected]="action === sdk_method"
              *ngFor="let sdk_method of sdk_deploy_utils_methods; index as i"
            >
              {{ sdk_method }}
            </option>
          </optgroup>
          <optgroup label="deploy">
            <option
              [value]="sdk_method"
              [selected]="action === sdk_method"
              *ngFor="let sdk_method of sdk_deploy_methods; index as i"
            >
              {{ sdk_method }}
            </option>
          </optgroup>
          <optgroup label="contract">
            <option
              [value]="sdk_method"
              *ngFor="let sdk_method of sdk_contract_methods; index as i"
            >
              {{ sdk_method }}
            </option>
          </optgroup>
        </select>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="input-group">
        <label class="input-group-text" for="publicKeyElt"> Public Key</label>
        <input
          type="search"
          class="form-control form-control-xs"
          name="public_key"
          [value]="public_key || ''"
          placeholder="e.g. 0x"
          (change)="onPublicKeyChange()"
          id="publicKeyElt"
          #publicKeyElt
          e2e-id="publicKeyElt"
        />
      </div>
    </div>
    <div class="col-sm-2 d-flex justify-content-end">
      <input
        class="visually-hidden"
        name="private_key"
        #privateKeyElt
        type="file"
        id="privateKeyElt"
        (change)="onPemSelected($event)"
        accept=".pem"
        e2e-id="privateKeyElt"
      />
      <button
        class="btn btn-secondary"
        (click)="onPrivateKeyClick()"
        *ngIf="!has_private_key"
      >
        Load Private Key
      </button>
      <button
        class="btn btn-light"
        (click)="onPrivateKeyClick()"
        *ngIf="has_private_key"
      >
        Private Key Loaded
      </button>
    </div>
  </form>
  <div class="row mt-3" *ngIf="peers && peers.length && action === 'get_peers'">
    <div class="col-xs-12">
      <div class="card">
        <ul class="list-group list-group-flush" e2e-id="peers">
          <li class="list-group-item" *ngFor="let peer of peers; index as i">
            {{ peer | json }}
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div
    class="row mt-3 d-flex align-items-end"
    *ngIf="
      [
        'get_block',
        'get_block_transfers',
        'get_era_info',
        'get_era_summary',
        'get_account',
        'speculative_exec',
        'speculative_deploy',
        'speculative_transfer',
        'query_balance',
        'query_global_state',
        'get_state_root_hash'
      ].includes(action)
    "
  >
    <form class="row align-items-end" (submit)="(false)">
      <div class="col-sm-2 mb-2">
        <label for="blockIdentifierHeightElt">Block Height</label>
        <div class="form-floating">
          <input
            type="search"
            id="blockIdentifierHeightElt"
            class="form-control form-control-xs"
            name="block_identifier_height"
            [value]="block_identifier_height || ''"
            [placeholder]="block_identifier_height_default"
            #blockIdentifierHeightElt
            e2e-id="blockIdentifierHeightElt"
          />
          <label for="blockIdentifierHeightElt"
            >e.g. {{ block_identifier_height_default }}</label
          >
        </div>
      </div>
      <div class="col-sm-6 mb-2">
        <label for="blockIdentifierHashElt">Block Hash</label>
        <div class="form-floating">
          <input
            type="search"
            class="form-control form-control-xs"
            name="block_identifier_hash"
            [value]="block_identifier_hash || ''"
            [placeholder]="block_identifier_hash_default"
            id="blockIdentifierHashElt"
            #blockIdentifierHashElt
            e2e-id="blockIdentifierHashElt"
          />
          <label for="blockIdentifierHeightElt"
            >e.g. {{ block_identifier_hash_default }}</label
          >
        </div>
      </div>
      <div class="col-sm-12 mb-2">
        <div class="col-sm-7" *ngIf="action === 'get_account'">
          <label for="accountIdentifierElt">Account identifier</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="account_identifier"
              [value]="account_identifier || ''"
              placeholder="e.g. Public Key, AccountHash, Purse URef"
              id="accountIdentifierElt"
              #accountIdentifierElt
              e2e-id="accountIdentifierElt"
            />
            <label for="accountIdentifierElt"
              >e.g. Public Key, AccountHash</label
            >
          </div>
        </div>
      </div>
    </form>
  </div>
  <div
    class="row mt-3 d-flex align-items-end"
    *ngIf="
      [
        'get_balance',
        'query_balance',
        'query_global_state',
        'query_contract_dict',
        'query_contract_key',
        'get_dictionary_item'
      ].includes(action)
    "
  >
    <form class="row align-items-end" (submit)="(false)">
      <div class="col-sm-7 mb-2">
        <label for="stateRootHashElt">State Root Hash </label>
        <div class="form-floating">
          <input
            type="search"
            class="form-control form-control-xs"
            name="state_root_hash"
            [placeholder]="state_root_hash"
            id="stateRootHashElt"
            #stateRootHashElt
            e2e-id="stateRootHashElt"
          />
          <label for="stateRootHashElt">e.g. {{ state_root_hash }}</label>
        </div>
      </div>
      <div class="col-sm-7 mb-2" *ngIf="action === 'get_balance'">
        <label for="purseUrefElt"
          >Purse Uref
          <!-- <span class="fw-light small"
              >({{ block_identifier_hash_default }})</span
            > -->
        </label>
        <div class="form-floating">
          <input
            type="search"
            class="form-control form-control-xs"
            name="purse_uref"
            [value]="purse_uref || main_purse || ''"
            placeholder="e.g. {{ main_purse || 'uref-0x' }}"
            id="purseUrefElt"
            #purseUrefElt
            e2e-id="purseUrefElt"
          />
          <label for="purseUrefElt">e.g. {{ main_purse || 'uref-0x' }}</label>
        </div>
      </div>
      <div class="col-sm-7 mb-2" *ngIf="action === 'query_balance'">
        <label for="purseIdentifierElt">Purse Identifier </label>
        <div class="form-floating">
          <input
            type="search"
            class="form-control form-control-xs"
            name="purse_identifier"
            [value]="
              purse_identifier || main_purse || public_key || account_hash || ''
            "
            placeholder="e.g. Public Key, AccountHash, Purse URef"
            id="purseIdentifierElt"
            #purseIdentifierElt
            e2e-id="purseIdentifierElt"
          />
          <label for="purseIdentifierElt"
            >e.g. Public Key, AccountHash, Purse URef</label
          >
        </div>
      </div>
    </form>
  </div>
  <div
    class="row mt-3 d-flex align-items-end"
    *ngIf="
      [
        'get_dictionary_item',
        'query_global_state',
        'query_contract_dict',
        'query_contract_key'
      ].includes(action)
    "
  >
    <form class="row align-items-end" (submit)="(false)">
      <div
        class="col-sm-12 mb-3"
        *ngIf="['get_dictionary_item'].includes(action)"
      >
        <div class="row">
          <div class="col-sm-5 mb-2">
            <div class="input-group">
              <label class="input-group-text" for="selectActionElt"
                >Dictionary identifier</label
              >
              <select
                id="selectDictIdentifierElt"
                class="form-select form-control form-control-sm"
                [value]="select_dict_identifier || ''"
                (change)="
                  select_dict_identifier = selectDictIdentifierElt.value
                "
                #selectDictIdentifierElt
                e2e-id="selectDictIdentifierElt"
              >
                <option
                  value="newFromSeedUref"
                  [selected]="select_dict_identifier === 'newFromSeedUref'"
                >
                  From Dictionary Uref
                </option>
                <option
                  value="newFromContractInfo"
                  [selected]="select_dict_identifier === 'newFromContractInfo'"
                >
                  From Contract Info
                </option>
                <option
                  value="newFromAccountInfo"
                  [selected]="select_dict_identifier === 'newFromAccountInfo'"
                >
                  From Account Info
                </option>
                <option
                  value="newFromDictionaryKey"
                  [selected]="select_dict_identifier === 'newFromDictionaryKey'"
                >
                  From Dictionary Key
                </option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <ng-container
        *ngIf="['get_dictionary_item', 'query_contract_dict'].includes(action)"
      >
        <div
          class="col-sm-7 mb-2"
          *ngIf="
            !!this.selectDictIdentifierElt &&
            select_dict_identifier === 'newFromSeedUref'
          "
        >
          <label for="seedUrefElt">Dictionary Uref </label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="seed_uref"
              [value]="seed_uref || ''"
              placeholder="uref-0x"
              id="seedUrefElt"
              #seedUrefElt
              e2e-id="seedUrefElt"
            />
            <label for="seedUrefElt">e.g. uref-0x</label>
          </div>
        </div>
        <div
          class="col-sm-7 mb-2"
          *ngIf="
            !!this.selectDictIdentifierElt &&
            select_dict_identifier === 'newFromAccountInfo'
          "
        >
          <label for="seedAccounttHashElt">Account Hash</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="seed_account_hash"
              [value]="seed_account_hash || ''"
              placeholder="account-hash-0x"
              id="seedAccounttHashElt"
              #seedAccounttHashElt
              e2e-id="seedAccounttHashElt"
            />
            <label for="seedAccounttHashElt">e.g. account-hash-0x</label>
          </div>
        </div>
        <div
          class="col-sm-7 mb-2"
          *ngIf="
            select_dict_identifier === 'newFromContractInfo' ||
            action === 'query_contract_dict'
          "
        >
          <label for="seedContractHashElt">Contract Hash</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="seed_contract_hash"
              [value]="seed_contract_hash || ''"
              placeholder="hash-0x"
              id="seedContractHashElt"
              #seedContractHashElt
              e2e-id="seedContractHashElt"
            />
            <label for="seedContractHashElt">e.g. hash-0x</label>
          </div>
        </div>
        <div
          class="col-sm-7 mb-2"
          *ngIf="
            !!this.selectDictIdentifierElt &&
            select_dict_identifier === 'newFromDictionaryKey'
          "
        >
          <label for="seedKeyElt">Dictionary Key</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="seed_key"
              [value]="seed_key || ''"
              placeholder="dictionary-0x"
              id="seedKeyElt"
              #seedKeyElt
              e2e-id="seedKeyElt"
            />
            <label for="seedKeyElt">e.g. dictionary-0x</label>
          </div>
        </div>
        <div
          class="col-sm-7 mb-2"
          *ngIf="
            ['newFromContractInfo', 'newFromAccountInfo'].includes(
              select_dict_identifier
            ) || action === 'query_contract_dict'
          "
        >
          <label for="seedNameElt">Dictionary Name</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="seed_name"
              [value]="seed_name || ''"
              placeholder="e.g. events"
              id="seedNameElt"
              #seedNameElt
              e2e-id="seedNameElt"
            />
            <label for="seedNameElt">e.g. events</label>
          </div>
        </div>
        <div
          class="col-sm-7 mb-2"
          *ngIf="select_dict_identifier !== 'newFromDictionaryKey'"
        >
          <label for="itemKeyElt">Dictionary Item key </label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="item_key"
              [value]="item_key || ''"
              [placeholder]="item_key"
              id="itemKeyElt"
              #itemKeyElt
              e2e-id="itemKeyElt"
            />
            <label for="itemKeyElt">e.g. Item key string</label>
          </div>
        </div>
      </ng-container>
      <ng-container
        *ngIf="['query_global_state', 'query_contract_key'].includes(action)"
      >
        <div class="col-sm-7 mb-2">
          <label for="queryKeyElt">{{
            action === 'query_global_state' ? 'Key' : 'Contract Hash'
          }}</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="query_key"
              [value]="query_key || ''"
              [placeholder]="
                action === 'query_global_state'
                  ? 'e.g. uref-0x || hash-0x || account-hash-0x'
                  : 'e.g. hash-0x'
              "
              id="queryKeyElt"
              #queryKeyElt
              e2e-id="queryKeyElt"
            />
            <label for="queryKeyElt">{{
              action === 'query_global_state'
                ? 'e.g. uref-0x || hash-0x || account-hash-0x'
                : 'e.g. hash-0x'
            }}</label>
          </div>
        </div>
        <div class="col-sm-7 mb-2">
          <label for="queryPathElt">Path</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="query_path"
              [value]="query_path || ''"
              placeholder="e.g. counter/count"
              id="queryPathElt"
              #queryPathElt
              e2e-id="queryPathElt"
            />
            <label for="queryPathElt">e.g. counter/count</label>
          </div>
        </div>
      </ng-container>
    </form>
  </div>
  <div class="row mt-3 d-flex align-items-end" *ngIf="action === 'get_deploy'">
    <form class="row align-items-end" (submit)="(false)">
      <div class="col-sm-6">
        <label for="deployHashElt">Deploy Hash </label>
        <div class="form-floating">
          <input
            type="search"
            class="form-control form-control-xs"
            name="deploy_hash"
            [value]="deploy_hash || ''"
            placeholder="e.g. 0x"
            id="deployHashElt"
            #deployHashElt
            e2e-id="deployHashElt"
          />
          <label for="stateRootHashElt">e.g. 0x</label>
        </div>
      </div>
      <div class="col-sm-2">
        <label for="finalizedApprovalsElt" class="form-label"
          >Finalized approvals</label
        >
        <div>
          <input
            type="checkbox"
            class="form-check-input mt-0"
            name="finalized_approvals"
            [checked]="finalized_approvals"
            [value]="finalized_approvals || ''"
            id="finalizedApprovalsElt"
            #finalizedApprovalsElt
            e2e-id="finalizedApprovalsElt"
          />
        </div>
      </div>
    </form>
  </div>
  <div
    class="row mt-3 d-flex align-items-end"
    *ngIf="['put_deploy', 'sign_deploy', 'speculative_exec'].includes(action)"
  >
    <form class="row align-items-end" (submit)="(false)">
      <div class="col-sm-2">
        <input
          class="visually-hidden"
          name="deploy_file"
          #deployFileElt
          type="file"
          id="deployFileElt"
          (change)="onDeployFileSelected($event)"
          accept=".json, .txt"
          e2e-id="deployFileElt"
        />
        <button
          class="btn btn-secondary"
          (click)="deployFileClick()"
          *ngIf="!file_name"
        >
          Load deploy file
        </button>
      </div>
      <div class="col-sm-12">
        <div class="form-floating mt-3">
          <textarea
            style="height: 300px; white-space: pre-wrap"
            class="form-control"
            name="deploy_json"
            value="deploy_json"
            [innerHTML]="deploy_json || ''"
            id="deployJsonElt"
            #deployJsonElt
            e2e-id="deployJsonElt"
          >
          </textarea>
          <label for="deployJsonElt">Deploy as Json string</label>
        </div>
      </div>
    </form>
  </div>
  <div
    class="row mt-3 d-flex align-items-end"
    *ngIf="
      [
        'make_transfer',
        'make_deploy',
        'transfer',
        'deploy',
        'speculative_transfer',
        'speculative_deploy',
        'call_entrypoint',
        'install'
      ].includes(action)
    "
  >
    <form class="row align-items-end" (submit)="(false)">
      <div
        class="col-sm-2"
        *ngIf="
          ['make_transfer', 'transfer', 'speculative_transfer'].includes(action)
        "
      >
        <label class="text-nowrap"
          >Transfer Amount
          <span
            class="fw-light small text-nowrap"
            *ngIf="this.transferAmountElt.value"
            >({{ motesToCSPR(transferAmountElt) }} CSPR)</span
          ></label
        >
        <div class="form-floating">
          <input
            type="tel"
            id="transferAmountElt"
            class="form-control form-control-xs"
            name="transfer_amount"
            [value]="transfer_amount || ''"
            [placeholder]="config['minimum_transfer']"
            pattern="\d*"
            (change)="motesToCSPR(transferAmountElt)"
            maxlength="28"
            #transferAmountElt
            e2e-id="transferAmountElt"
          />
          <label for="transferAmountElt"
            >e.g. {{ config['minimum_transfer'] }}</label
          >
        </div>
      </div>
      <div
        class="col-sm-3"
        *ngIf="
          [
            'make_deploy',
            'deploy',
            'speculative_deploy',
            'call_entrypoint',
            'install'
          ].includes(action)
        "
      >
        <label class="text-nowrap"
          >Payment Amount
          <span
            class="fw-light small text-nowrap"
            *ngIf="this.paymentAmountElt.value"
            >({{ motesToCSPR(paymentAmountElt) }} CSPR)</span
          ></label
        >
        <div class="form-floating">
          <input
            type="tel"
            id="paymentAmountElt"
            class="form-control form-control-xs"
            name="payment_amount"
            [value]="payment_amount || ''"
            pattern="\d*"
            (change)="motesToCSPR(paymentAmountElt)"
            maxlength="28"
            #paymentAmountElt
            e2e-id="paymentAmountElt"
          />
        </div>
      </div>
      <div
        class="col-sm-1"
        *ngIf="
          [
            'make_transfer',
            'make_deploy',
            'transfer',
            'deploy',
            'speculative_transfer',
            'speculative_deploy',
            'install'
          ].includes(action)
        "
      >
        <label for="TTLElt">TTL</label>
        <div class="form-floating">
          <input
            type="search"
            id="TTLElt"
            class="form-control form-control-xs"
            name="ttl"
            [value]="ttl || config['TTL']"
            [placeholder]="config['TTL']"
            #TTLElt
            e2e-id="TTLElt"
          />
          <label for="TTLElt">e.g. {{ config['TTL'] }}</label>
        </div>
      </div>
      <div
        class="col-sm-6"
        *ngIf="
          ['make_transfer', 'transfer', 'speculative_transfer'].includes(action)
        "
      >
        <label for="targetAccountElt">Target Account</label>
        <div class="form-floating">
          <input
            type="search"
            class="form-control form-control-xs"
            name="target_account"
            [value]="target_account || ''"
            placeholder="e.g. Public Key, AccountHash, Purse URef"
            id="targetAccountElt"
            #targetAccountElt
            e2e-id="targetAccountElt"
          />
          <label for="blockIdentifierHeightElt"
            >e.g. Public Key, AccountHash, Purse URef</label
          >
        </div>
      </div>
      <div
        class="col-sm-6"
        *ngIf="
          ['make_deploy', 'deploy', 'install', 'speculative_deploy'].includes(
            action
          )
        "
      >
        <div class="col-sm-2">
          <input
            class="visually-hidden"
            name="wasm"
            #wasmElt
            type="file"
            id="wasmElt"
            (change)="onWasmSelected($event)"
            accept=".wasm"
            e2e-id="wasmElt"
          />
          <button
            class="btn btn-secondary"
            (click)="onWasmClick()"
            *ngIf="!file_name"
          >
            Wasm Module Bytes
          </button>
          <span
            class="break-all text-nowrap"
            class="btn btn-light"
            (click)="resetWasmClick()"
            *ngIf="file_name"
            e2e-id="wasmName"
          >
            {{ file_name }}
            <svg
              class="w-6 h-6 ml-1 cursor-pointer shrink-0"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
              ></path>
            </svg>
          </span>
        </div>
      </div>
      <div
        class="row mt-2"
        *ngIf="
          [
            'make_deploy',
            'deploy',
            'speculative_deploy',
            'call_entrypoint',
            'install'
          ].includes(action)
        "
      >
        <ng-container
          *ngIf="
            action !== 'install' && (!file_name || action === 'call_entrypoint')
          "
        >
          <div class="col-sm-7 mb-2">
            <label for="sessionHashElt"
              >Smart Contract hash or Package hash</label
            >
            <div class="form-floating">
              <input
                type="search"
                class="form-control form-control-xs"
                name="session_hash"
                [value]="session_hash || ''"
                placeholder="e.g. Contract Hash or Package Hash"
                id="sessionHashElt"
                (change)="(true)"
                [disabled]="
                  !!sessionNameElt.value ||
                  (file_name && action !== 'call_entrypoint')
                "
                #sessionHashElt
                e2e-id="sessionHashElt"
              />
              <label for="sessionHashElt"
                >e.g. Contract Hash or Package Hash</label
              >
            </div>
          </div>
          <div class="col-sm-2">
            <label for="callPackageElt" class="form-label">Call Package</label>
            <div>
              <input
                type="checkbox"
                class="form-check-input mt-0"
                name="call_package"
                [checked]="call_package"
                [value]="call_package || ''"
                id="callPackageElt"
                [disabled]="file_name && action !== 'call_entrypoint'"
                #callPackageElt
                e2e-id="callPackageElt"
              />
            </div>
          </div>
          <div class="col-sm-3 mb-2">
            <label for="versionElt">Version</label>
            <div class="form-floating">
              <input
                type="search"
                class="form-control form-control-xs"
                name="version"
                [value]="version || ''"
                placeholder="e.g.1, empty for last version"
                [disabled]="file_name && action !== 'call_entrypoint'"
                id="versionElt"
                #versionElt
                e2e-id="versionElt"
              />
              <label for="versionElt">e.g.1, empty for last version</label>
            </div>
          </div>
          <div class="col-sm-7 mb-2">
            <label for="sessionNameElt"
              >Smart Contract name or Package name</label
            >
            <div class="form-floating">
              <input
                type="search"
                class="form-control form-control-xs"
                name="session_name"
                [value]="session_name || ''"
                placeholder="e.g. Counter"
                id="sessionNameElt"
                [disabled]="
                  !!sessionHashElt.value ||
                  (file_name && action !== 'call_entrypoint')
                "
                (change)="(true)"
                #sessionNameElt
                e2e-id="sessionNameElt"
              />
              <label for="sessionNameElt">e.g. Counter</label>
            </div>
          </div>
          <div class="col-sm-5 mb-2">
            <label for="entryPointElt">Entry point</label>
            <div class="form-floating">
              <input
                type="search"
                class="form-control form-control-xs"
                name="entry_point"
                [value]="entry_point || ''"
                placeholder="e.g. counter_inc"
                id="entryPointElt"
                [disabled]="file_name && action !== 'call_entrypoint'"
                #entryPointElt
                e2e-id="entryPointElt"
              />
              <label for="entryPointElt">e.g. counter_inc</label>
            </div>
          </div>
        </ng-container>
        <div class="col-sm-7 mb-2">
          <label for="argsSimpleElt">Args</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="args_simple"
              [value]="args_simple || ''"
              placeholder="e.g. foo:Bool='true', bar:String='value'"
              id="argsSimpleElt"
              [disabled]="!!argsJsonElt.value"
              (change)="(true)"
              #argsSimpleElt
              e2e-id="argsSimpleElt"
            />
            <label for="argsSimpleElt"
              >e.g. foo:Bool='true', bar:String='value'</label
            >
          </div>
        </div>
        <div class="col-sm-7 mb-2">
          <label for="argsJsonElt">Args Json</label>
          <div class="form-floating">
            <input
              type="search"
              class="form-control form-control-xs"
              name="args_json"
              [value]="args_json || ''"
              placeholder='e.g. [{ "name": "foo", "type": "U256", "value": 1 }]'
              [disabled]="!!argsSimpleElt.value"
              (change)="(true)"
              #argsJsonElt
              e2e-id="argsJsonElt"
            />
            <label for="argsJsonElt"
              >e.g. [&#123; "name": "foo", "type": "U256", "value": 1
              &#125;]</label
            >
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="row d-flex mt-4 justify-content-start" *ngIf="action">
    <div class="col-sm-1" *ngIf="!['sign_deploy'].includes(action)">
      <button
        type="button"
        class="btn btn-success"
        (click)="submitAction(action)"
        e2e-id="submit"
      >
        Submit
      </button>
    </div>
    <div class="col-sm-1" *ngIf="['sign_deploy'].includes(action)">
      <button
        type="button"
        class="btn btn-warning"
        (click)="submitAction(action)"
        e2e-id="sign"
      >
        Sign
      </button>
    </div>
    <div
      class="col-sm-1"
      *ngIf="
        !['sign_deploy', 'put_deploy', 'speculative_exec'].includes(action) &&
        (result || peers.length)
      "
    >
      <button
        class="btn btn-link"
        type="reset"
        value="clear"
        (click)="cleanDisplay()"
        e2e-id="clear"
      >
        Clear
      </button>
    </div>
  </div>
  <div class="row mt-3" *ngIf="result">
    <div class="col-xs-12">
      <div class="card">
        <div
          class="card-body"
          style="white-space: pre-wrap"
          e2e-id="result"
          [innerHtml]="displayResult()"
        ></div>
      </div>
    </div>
  </div>
</main>
